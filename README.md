# vaccine-macro
# MACOS 용 매크로

1. 카카오 로그인
2. 예약을 원하는 좌표 구하기
3. ./vaccine-run-kakao 실행하기 
  백신 코드는 "ANY" 로 입력하지 말 것.
  좌표는 (y,x) 형태로 구글맵에서 가져온 그대로 입력할 것.
  예약 성공 시, 빵빠레와 함께 자동 예약 후 프로그램 종료.
  프로그램 종료 후 재실행 시, 프로그램 위치의 cookie.ini 파일 제거 후 실행.


# 카카오 로그인 메뉴얼
## 기본 로그인 방법
- [여기를 클릭하여](https://accounts.kakao.com/login?continue=https%3A%2F%2Fvaccine-map.kakao.com%2Fmap2%3Fv%3D1) 카카오 계정 로그인 페이지로 이동한 다음에 로그인을 해주세요.
- 로그인 완료 후 카카오 [잔여백신 본인정보 확인 API](https://vaccine.kakao.com/api/v1/user)에서 본인의 정보가 정상적으로 표시되는지 확인합니다. 
- 정상적으로 표시되지 않는 경우 [이 페이지에 접근하여](https://vaccine.kakao.com/agreement) 잔여백신 예약 정보제공동의를 진행해주세요.

## 카카오 계정 로그인 시 주의사항
- 시크릿 모드에서 로그인하시면 안됩니다.
- 로그인 전 반드시 `로그인 상태 유지`를 체크해주세요.
- 로그인 이후 [카카오 잔여백신 맵](https://vaccine-map.kakao.com/map2?v=1)에 한번 이상 접근해야 합니다.

## Chrome 설정
- `설정` - `쿠키 및 기타 사이트 데이터` - `모든 쿠키 허용` 으로 설정해주세요.
- `설정` - `보안` - `세이프 브라우징` - `보호되지 않음` 으로 설정해주세요.
- Chrome의 프로파일이 기본 프로파일이어야 합니다. `chrome://version`에서 `프로필 경로`가 `Default` 인지 확인해주세요.
`프로필 경로`가 `Default`가 아닌 경우 [추가로 설정을 해주셔야 합니다.](./login-advanced.md)

## Chrome 개발자모드
- 응답형 디자인 모드 (모바일 보기 모드) 를 끄고 로그인 하셔야 합니다.

## Chome 확장 프로그램
- User-Agent를 건드리는 확장 프로그램이 있는 경우 꺼주셔야 합니다.

## 그래도 작동하지 않는다면?
- 크롬 브라우저 삭제
- `%LOCALAPPDATA%\Google\` 폴더에 진입
- `Chrome` 폴더 삭제
- 크롬 브라우저 재설치
- 이후 처음부터 다시 진행합니다.

# 좌표 구하기
가상의 사각형을 만들어서 해당 범위 안에 있는 병원을 검색하는 방식입니다.
그에 따라, 가상의 사각형을 만들어야 합니다.

만든 후에는 해당 가상의 사각형의 좌측 상단과 우측 하단의 좌표값을 찾아봅시다.

## 좌표 구하는 방법 1

1. [카카오맵에서 좌표 구하기 페이지](https://sjang1.github.io/korea-covid-19-remaining-vaccine-macro/get-coord.html)에 들어가서 사각형을 그립니다.
2. 사각형 상단 중앙에 나타나는 좌표값을 복사합니다.

## 좌표 구하는 방법 2

1. [구글지도](https://maps.google.com)에 접속하고, 좌표를 구하고 싶은 지역으로 이동한다.
2. 구하고 싶은 좌표가 있는 위치에서 우클릭을 하면 좌표값이 나타난다.
3. 해당 좌표값을 좌클릭하면 좌표가 복사된다.

https://user-images.githubusercontent.com/29011440/128113250-54a14ff9-3dfe-407a-a643-3425ea82ad59.mov


## 좌표값을 프로그램에 붙여넣기

1. 프로그램으로 이동한다.
2. **Ctrl+v 또는 Ctrl+Shift+v**를 누르거나 **마우스 우클릭**을 한다.

https://user-images.githubusercontent.com/29011440/128113745-3d4788f8-7302-45ed-8eac-c3ed715595e9.mov
